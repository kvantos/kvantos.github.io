<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Sergey Kviato Blog</title>
    <link>https://kvantos.github.io/</link>
    <description>Recent content on Sergey Kviato Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>2020</copyright>
    <lastBuildDate>Mon, 07 Dec 2020 01:05:47 +0200</lastBuildDate>
    
        <atom:link href="https://kvantos.github.io/index.xml" rel="self" type="application/rss+xml" />
    
    
    
        <item>
        <title>World Around Us</title>
        <link>https://kvantos.github.io/posts/world-around-us/</link>
        <pubDate>Mon, 07 Dec 2020 01:05:47 +0200</pubDate>
        
        <guid>https://kvantos.github.io/posts/world-around-us/</guid>
        <description>Sergey Kviato Blog https://kvantos.github.io/posts/world-around-us/ -&lt;p&gt;We live in world, but what does world means to us? The surrounding reality? These are value judgments only. We live on planet Earth and this is our world. Humanity has expanded its habitat, agriculture, electricity transport are the achievements of modern mankind. A industrialized society can manage living conditions. But have we solved all problems? There is a world around us and there is garbage, destruction of natural resources. People began to think they on their own, the crown of evolution. But how many people can survive in the forest without technology? The truth is that we are part of the system, ecosystem, part of nature. And we are completely dependent on nature well-being.&lt;/p&gt;
- https://kvantos.github.io/posts/world-around-us/ - 2020</description>
        </item>
    
    
    
        <item>
        <title>Udev Device Mapping</title>
        <link>https://kvantos.github.io/posts/udev-device-mapping/</link>
        <pubDate>Sun, 06 Dec 2020 22:36:36 +0200</pubDate>
        
        <guid>https://kvantos.github.io/posts/udev-device-mapping/</guid>
        <description>Sergey Kviato Blog https://kvantos.github.io/posts/udev-device-mapping/ -&lt;h2 id=&#34;hdd&#34;&gt;HDD&lt;/h2&gt;
&lt;p&gt;Конечно же это далеко не новость, но тем не менее. В общем возникло желание замапить свой жесткий диск который стоит в домашнем сервере. Так чтоб его можно было сколько угодно раз подключать отключать, а он в системе оставался под одним и тем же именем. Что для этого понадобится? А ничего, Linux, винт и текстовый редактор. В общем можно создать свой отдельный файл с правилом для udev, в который положим правила:&lt;/p&gt;
&lt;p&gt;[root@amigo rules.d]# cd /etc/udev/rules.d
[root@amigo rules.d]# touch 30-local.rules&lt;/p&gt;
&lt;p&gt;и добавляем туда что-то типа:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;&lt;span style=&#34;color:#228b22&#34;&gt;## Persistent name for removable USB hdd used for storage data&lt;/span&gt;
&lt;span style=&#34;color:#00688b&#34;&gt;BUS&lt;/span&gt;==&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;usb&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#00688b&#34;&gt;KERNEL&lt;/span&gt;==&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;sd?1&amp;#34;&lt;/span&gt;, SYSFS{serial}==&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;124689F86033&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#00688b&#34;&gt;NAME&lt;/span&gt;=&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;%k&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#00688b&#34;&gt;SYMLINK&lt;/span&gt;+=&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;usbhdd1&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;серийник можно узнать использовав команду:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;[root@amigo rules.d]&lt;span style=&#34;color:#228b22&#34;&gt;# udevinfo -a -p /sys/block/sda | grep serial&lt;/span&gt;
    SYSFS{serial}==&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;124689F86033&amp;#34;&lt;/span&gt;
    SYSFS{serial}==&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;0000:06:00.2&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;далее в /etc/fstab добавляем привычную строчку монтирования диска. Имя у него теперь будет /dev/usbhdd1&lt;/p&gt;
&lt;p&gt;/dev/usbhdd1 /var/media/    ext3    defaults,noatime,async  0 2&lt;/p&gt;
&lt;h2 id=&#34;scanner&#34;&gt;SCANNER&lt;/h2&gt;
&lt;p&gt;Если с винтом всё предельно ясно, то вот со сканером возник определённый ступор. Проблема со сканером была в том что доступ к нему мог иметь только root, меня это никак не устраивало, потому что сканировать я люблю из под своего юзера. И вот, чтоб каждый раз не ставить права на устройство руками, можно заюзать гибкое средство udev. На этот раз ничего создавать не пришлось, видимо когда поставился SANE, заодно и прописался файлик /etc/udev/rules.d/60-libsane.rules&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# Mustek BearPaw 2448TA Pro 
SYSFS{idVendor}==&amp;quot;055f&amp;quot;, SYSFS{idProduct}==&amp;quot;0409&amp;quot;, SYMLINK+=&amp;quot;scanner-%k&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;В нём быстро был обнаружен мой сканер, и я тут же попытался добавить правила которые меня бы устроили GROUP:=&amp;ldquo;scanner&amp;rdquo;, MODE:=&amp;ldquo;0660&amp;rdquo;
Но не тут то было! Правила автоматически не применялись. Сначала я долго не мог понять в чём подвох. Потом случайно обнаружил что, если убрать правило которое добавляет symlink, то всё хорошо. Ну, без symlink тоже всё прекрасно работает, не знаю в чем его назначение и почему так получается. В общем, правило стало выглядеть вот так:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;SYSFS{idVendor}==&amp;quot;055f&amp;quot;, SYSFS{idProduct}==&amp;quot;0409&amp;quot;, GROUP:=&amp;quot;scanner&amp;quot;, MODE:=&amp;quot;0660&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Добавил группу и включил в неё своего пользователя:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-sh&#34; data-lang=&#34;sh&#34;&gt;[root@amigo rules.d]$ groupadd -r scanner
[root@amigo rules.d]$ usermod -G scanner USERNAME
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;И всё заработало :)&lt;/p&gt;
- https://kvantos.github.io/posts/udev-device-mapping/ - 2020</description>
        </item>
    
    
  </channel>
</rss> 